---

apiVersion: gateway.networking.k8s.io/v1alpha2
kind: HTTPRoute
metadata:
  name: traefik-dashboard
  namespace: kube-system

spec:
  parentRefs:
    - name: traefik

  hostnames:
    - traefik.kubi.{{ domain_local }}

  rules:
    - backendRefs:
        - name: api@internal
          kind: TraefikService
          group: traefik.containo.us
---

apiVersion: gateway.networking.k8s.io/v1alpha2
kind: HTTPRoute
metadata:
  name: longhorn-frontend
  namespace: longhorn-system

spec:
  parentRefs:
    - name: traefik
      namespace: kube-system

  hostnames:
    - longhorn.kubi.{{ domain_local }}

  rules:
    - backendRefs:
        - name: longhorn-frontend
          namespace: longhorn-system
          port: 80
          weight: 1
